#include <stdio.h>
#include <string.h>

#define QTD 26

typedef struct {
    char estado[30];
    int veiculos;
    int acidentes;
} Estado;

// (a)
void lerDados(Estado v[]) {
    int i;
    for (i = 0; i < QTD; i++) {
        printf("\nEstado %d:\n", i+1);
        printf("Nome: ");
        scanf(" %[^\n]", v[i].estado);
        printf("Número de veículos: ");
        scanf("%d", &v[i].veiculos);
        printf("Número de acidentes: ");
        scanf("%d", &v[i].acidentes);
    }
}

// (b)
void maiorMenor(Estado v[], int *idxMaior, int *idxMenor) {
    int i;
    *idxMaior = 0;
    *idxMenor = 0;

    for (i = 1; i < QTD; i++) {
        if (v[i].acidentes > v[*idxMaior].acidentes)
            *idxMaior = i;

        if (v[i].acidentes < v[*idxMenor].acidentes)
            *idxMenor = i;
    }
}

// (c)
float percentual(Estado v[], int indice) {
    if (v[indice].veiculos == 0) return 0;
    return (v[indice].acidentes * 100.0) / v[indice].veiculos;
}

// (d)
float mediaAcidentes(Estado v[]) {
    int i, soma = 0;
    for (i = 0; i < QTD; i++)
        soma += v[i].acidentes;
    return soma / (float)QTD;
}

// (e)
void acimaMedia(Estado v[], float media) {
    int i;
    printf("\nEstados acima da média nacional (%.2f acidentes):\n", media);
    for (i = 0; i < QTD; i++)
        if (v[i].acidentes > media)
            printf("%s (%d acidentes)\n", v[i].estado, v[i].acidentes);
}

int main() {
    Estado cadastro[QTD];
    int maior, menor, i;
    float media;

    // (a)
    lerDados(cadastro);

    // (b)
    maiorMenor(cadastro, &maior, &menor);
    printf("\nMaior número de acidentes: %s (%d acidentes)\n",
           cadastro[maior].estado, cadastro[maior].acidentes);
    printf("Menor número de acidentes: %s (%d acidentes)\n",
           cadastro[menor].estado, cadastro[menor].acidentes);

    // (c)
    printf("\nPercentual de veículos envolvidos por estado:\n");
    for (i = 0; i < QTD; i++)
        printf("%s: %.2f%%\n", cadastro[i].estado, percentual(cadastro, i));

    // (d)
    media = mediaAcidentes(cadastro);
    printf("\nMédia de acidentes no país: %.2f\n", media);

    // (e)
    acimaMedia(cadastro, media);

    return 0;
}
